@using ReportsManagement.Models
@using System.Collections.Generic;

@{
    ViewBag.Title = "Asistencia";
    Layout = "~/Views/Shared/_Layout2Admin.cshtml";
    bool error = (bool)ViewData["error"];
    Employee emp = new Employee();
}

@if (!error)
{
    emp = (Employee)@ViewData["employee"];
}


@section noError 
{
    @if(!error)
    {
        <!-- Mostrara un formulario para actualizar un empleado -->
        <article style="clear: both">
            <div class="col-md-8 col-md-offset-2" style="margin-bottom:30px;">
                <h3>Registrando asistencia de: @emp.Name</h3>
            </div>
            <form class="col-md-8 col-md-offset-2 form-horizontal" method="POST" id="attendance">
                <!--
                    <div class="form-group">
                        <label for="inputId" class="col-sm-2 control-label">Identificador: </label>
                        <div class="col-sm-10">
                            <input type="number" class="form-control" id="id" value="" name="id">
                        </div>
                    </div>
                -->
                <!-- Input oculto para enviar el id del empleado en el POST -->
                <input type="hidden" class="form-control" id="id" value="@emp.Id" name="id">

                <div class="form-group">
                    <label for="inputText" class="col-sm-2 control-label">Nombre: </label>
                    <div class="input-group col-sm-10">
                        <input type="text" class="form-control" id="name" placeholder="Nombre" value="@emp.Name" name="name" disabled>
                    </div>
                </div>

                <div class="form-group">
                    <label for="inputEmail" class="col-sm-2 control-label">Email: </label>
                    <div class="input-group col-sm-10">
                        <input type="email" class="form-control" id="email" placeholder="Correo Electrónico" value="@emp.Email" name="email" disabled>
                    </div>
                </div>

                <div class="form-group">
                    <label for="date" class="col-sm-2 control-label">Fecha: </label>
                    <div class='input-group date col-sm-10' id='divDate' data-toggle="popover" data-trigger="manual" data-placement="bottom" data-content="Ingrese una fecha.">
                        <input type='text' class="form-control" name="date" id="date" required>
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="daysOpt">Lugar: </label>
                    <div class='input-group col-sm-10'>
                        <input type="radio" name="place" value="98" checked> Presencial<br>
                        <input type="radio" name="place" value="99"> Remoto
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 control-label" for="daysOpt">Opciones: </label>
                    <div class='input-group col-sm-10'>
                        <input type="radio" name="options" value="in" id="inputIn" checked onclick="optionsAttendance()"> Entrada<br>
                        <input type="radio" name="options" value="out" id="inputOut" onclick="optionsAttendance();"> Salida<br>
                        <input type="radio" name="options" value="two" id="inputTwo" onclick="optionsAttendance();"> Ambos
                    </div>
                </div>

                <div class="form-group" id="in">
                    <label for="inHour" class="col-sm-2 control-label">Hora de entrada: </label>
                    <div class='input-group' id='divInHour' data-toggle="popover" data-trigger="manual" data-placement="right" data-content="Ingrese una hora.">
                        <input type="time" class="form-control" name="inHour" value="08:00:00" id="inHour">
                    </div>
                </div>

                <div class="form-group" id="out" style="display:none;">
                    <label for="outHour" class="col-sm-2 control-label">Hora de salida: </label>
                    <div class='input-group' id='divOutHour' data-toggle="popover" data-trigger="manual" data-placement="right" data-content="Ingrese una hora.">
                        <input type="time" class="form-control" name="outHour" value="17:00:00" id="outHour">
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group col-sm-offset-2 col-sm-10">
                        <button type="button" class="btn btn-success" onclick="validateFormAttendance('attendance');">Marcar</button>
                    </div>
                </div>
            </form>
        </article>
    }    
}
